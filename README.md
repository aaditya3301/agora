# Agora Supply Chain Simulator

A multi-agent supply chain simulation system built in Python that demonstrates autonomous agent coordination in logistics and supply chain management. Originally developed as a hackathon prototype, Agora simulates a simplified city supply chain where stores, warehouses, factories, and trucks work together to meet dynamic consumer demand.

## 🎯 Overview

Agora creates a visual, real-time simulation of supply chain operations where:
- **Store agents** monitor inventory and place orders when stock runs low
- **Warehouse agents** process orders and coordinate deliveries
- **Factory agents** produce goods based on demand
- **Truck agents** transport goods between locations
- **Market agents** generate dynamic demand patterns and events

The system uses an event-driven architecture with a central message bus for agent communication, making it easy to understand and extend.

## 🏗️ Architecture

```
Web Interface → Simulation Manager → Message Bus → Agents
                      ↓
                   City Map
                      ↓
              Performance Tracker
```

### Core Components

- **Simulation Manager**: Orchestrates the simulation and manages time steps
- **Message Bus**: Handles communication between agents using publish-subscribe pattern
- **City Map**: Represents locations and distances in the simulated city
- **Agent System**: Individual autonomous agents with specialized behaviors
- **Web Interface**: Real-time visualization with WebSocket updates
- **Performance Tracker**: Collects and displays simulation metrics

## 📁 Project Structure

```
agora-supply-chain-simulator/
├── agents/                 # Agent implementations
│   ├── base_agent.py      # Base agent class and interface
│   ├── store_agent.py     # Store inventory management
│   ├── warehouse_agent.py # Order processing and dispatch
│   ├── factory_agent.py   # Production management
│   ├── truck_agent.py     # Transportation and delivery
│   ├── market_agent.py    # Demand generation
│   └── message_bus.py     # Inter-agent communication
├── models/                # Data models
│   ├── location.py        # Location representation
│   ├── product.py         # Product definitions
│   ├── order.py          # Order management
│   └── message.py        # Message format
├── simulation/            # Simulation engine
│   ├── simulation_manager.py    # Main simulation controller
│   ├── city_map.py             # Geographic layout
│   ├── performance_tracker.py  # Metrics collection
│   ├── agent_integration.py    # Agent setup and coordination
│   └── scenarios.py            # Predefined simulation scenarios
├── web/                   # Web interface
│   ├── app.py            # Flask application
│   ├── templates/        # HTML templates
│   └── static/          # CSS, JavaScript, assets
├── .kiro/specs/          # Design documentation
└── requirements.txt      # Python dependencies
```

## 🚀 Getting Started

### Prerequisites

- Python 3.8 or higher
- pip (Python package manager)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/your-username/agora-supply-chain-simulator.git
   cd agora-supply-chain-simulator
   ```

2. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

3. **Run the simulation**
   ```bash
   python web/app.py
   ```
   


4. **Open your browser**
   Navigate to `http://localhost:5000` to view the simulation interface

## 🎮 Usage

### Web Interface Controls

- **Start**: Begin the simulation with all agents active
- **Pause**: Temporarily halt the simulation (can be resumed)
- **Stop**: End the current simulation
- **Reset**: Clear all data and return to initial state

### Real-time Features

- **Live Map**: Visual representation of agent locations and activities
- **Agent Status**: Real-time updates on agent states and actions
- **Performance Metrics**: Track revenue, costs, and efficiency
- **Message Activity**: Monitor inter-agent communication

### Key Metrics

- **Total Revenue**: Sales generated by stores
- **Storage Costs**: Inventory holding expenses
- **Lost Sales**: Revenue lost due to stockouts
- **Order Fulfillment**: Success rate of order processing
- **Agent Activity**: Number of active agents and their status

## 🤖 Agent Behaviors

### Store Agent
- Monitors inventory levels continuously
- Places orders when stock falls below threshold
- Serves customer demand and updates inventory
- Tracks sales and stockout events

### Warehouse Agent
- Processes incoming orders from stores
- Manages inventory and stock levels
- Dispatches trucks for deliveries
- Places orders with factories when needed

### Factory Agent
- Maintains production queue
- Produces goods based on warehouse orders
- Manages production capacity and scheduling
- Notifies warehouses when production completes

### Truck Agent
- Accepts delivery assignments
- Moves between locations with cargo
- Loads and unloads goods
- Reports delivery completion

### Market Agent
- Generates dynamic demand patterns
- Creates market events (spikes, drops)
- Simulates seasonal variations
- Drives overall system activity

## 🔧 Configuration

### Simulation Parameters

Key parameters can be adjusted in the simulation manager:

- **Time Step Duration**: Speed of simulation updates (default: 1.5 seconds)
- **Agent Limits**: Maximum number of each agent type
- **Demand Patterns**: Market volatility and seasonality
- **Production Rates**: Factory output capacity
- **Transportation**: Truck speed and capacity

### Adding Custom Scenarios

Create new scenarios in `simulation/scenarios.py`:

```python
def create_custom_scenario():
    """Define your custom supply chain setup"""
    # Add locations, agents, and initial conditions
    pass
```

## 📊 Performance Monitoring

The system tracks various performance indicators:

- **Financial Metrics**: Revenue, costs, profit margins
- **Operational Metrics**: Order fulfillment rates, delivery times
- **Efficiency Metrics**: Inventory turnover, capacity utilization
- **System Metrics**: Message throughput, agent responsiveness

## 🧪 Testing

The project includes comprehensive testing for all components. Tests are located in the respective module directories.

## 🛠️ Development

### Adding New Agent Types

1. Create a new agent class inheriting from `BaseAgent`
2. Implement required methods: `step()`, `handle_message()`
3. Define message types and communication protocols
4. Add agent to the integration system
5. Update web interface for visualization

### Extending Functionality

- **New Message Types**: Add to `models/message.py`
- **Additional Metrics**: Extend `PerformanceTracker`
- **Custom Locations**: Modify `CityMap` class
- **Advanced Behaviors**: Implement in respective agent classes

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📝 License

This project is open source and available under the [MIT License](LICENSE).

## 🎓 Educational Use

Agora is designed as an educational tool for understanding:
- Multi-agent systems and coordination
- Supply chain management principles
- Event-driven architecture patterns
- Real-time simulation techniques
- Web-based visualization

## 🔮 Future Enhancements

- **Machine Learning**: AI-driven demand forecasting
- **Advanced Routing**: Optimized delivery paths
- **Multi-Product Support**: Complex product hierarchies
- **Realistic Geography**: Integration with mapping services
- **Scalability**: Support for larger agent populations
- **Analytics Dashboard**: Advanced reporting and insights

## 📞 Support

For questions, issues, or contributions:
- Open an issue on GitHub
- Check the documentation in `.kiro/specs/`
- Review the design document for architectural details

---

**Built with ❤️ for supply chain education and multi-agent system exploration**